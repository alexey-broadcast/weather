"use strict";function Fn(){function e(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]}function r(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]}function t(t,a){var n;n=0===t?new Date:new Date(1e3*t);var o=n.getHours()+":"+n.getMinutes();return n.getMinutes()<10&&(o+="0"),a&&(o+=" "+e(n.getDay())+", "+r(n.getMonth())+" "+n.getDate()+" "),o}function a(e){switch(e){case"01d":case"02d":case"01n":return{btnBgColor:"rgba(0, 0, 175, 0.2)",outerCircleColor:"rgba(0, 0, 175, 0.1)",outerCircleBorder:"rgba(0, 0, 230, 0.1)",innerCircleColor:"rgba(130, 190, 220, 0.3)"};case"02n":return{btnBgColor:"rgba(15, 25, 34, 0.4)",outerCircleColor:"rgba(15, 25, 34, 0.5)",outerCircleBorder:"rgba(15, 25, 34, 0.4)",innerCircleColor:"rgba(30, 44, 56, 0.3)"};case"13d":return{btnBgColor:"rgba(43, 49, 67, 0.9)",outerCircleColor:"rgba(43, 49, 67, 0.5)",outerCircleBorder:"rgba(43, 49, 67, 0.4)",innerCircleColor:"rgba(30, 30, 30, 0.2)"};case"50d":return{btnBgColor:"rgba(102, 86, 80, 0.9)",outerCircleColor:"rgba(140, 101, 75, 0.5)",outerCircleBorder:"rgba(43, 49, 67, 0.4)",innerCircleColor:"rgba(30, 30, 30, 0.2)"};case"09n":default:return{btnBgColor:"rgba(32, 32, 32, 0.9)",outerCircleColor:"rgba(32, 32, 32, 0.5)",outerCircleBorder:"rgba(15, 15, 15, 0.4)",innerCircleColor:"rgba(30, 30, 30, 0.2)"}}}function n(e,r){var t="";switch(parseInt(e)){case 116:t="02";break;case 119:t="03";break;case 122:t="04";break;case 305:case 308:case 314:case 353:case 356:case 359:t="09";break;case 176:case 185:case 263:case 266:case 281:case 284:case 293:case 296:case 299:case 302:case 311:t="10";break;case 200:case 386:case 389:t="11";break;case 179:case 182:case 227:case 230:case 317:case 320:case 323:case 326:case 329:case 332:case 335:case 338:case 350:case 362:case 365:case 368:case 371:case 374:case 377:case 392:case 395:t="13";break;case 143:case 248:case 260:t="50";break;case 113:default:t="01"}var a;return a=r?new Date(c(r)):new Date,t+=a.getHours()<6||a.getHours()>20?"n":"d"}function o(e){switch(parseInt(e)){case 113:return"Clear/Sunny";case 116:return"Partly Cloudy";case 119:return"Cloudy";case 122:return"Overcast";case 143:return"Mist";case 176:return"Patchy rain nearby";case 179:return"Patchy snow nearby";case 182:return"Patchy sleet nearby";case 185:return"Patchy freezing drizzle nearby";case 200:return"Thundery outbreaks in nearby";case 227:return"Blowing snow";case 230:return"Blizzard";case 248:return"Fog";case 260:return"Freezing fog";case 263:return"Patchy light drizzle";case 266:return"Light drizzle";case 281:return"Freezing drizzle";case 284:return"Heavy freezing drizzle";case 293:return"Patchy light rain";case 296:return"Light rain";case 299:return"Moderate rain at times";case 302:return"Moderate rain";case 305:return"Heavy rain at times";case 308:return"Heavy rain";case 311:return"Light freezing rain";case 314:return"Moderate or Heavy freezing rain";case 317:return"Light sleet";case 320:return"Moderate or heavy sleet";case 323:return"Patchy light snow";case 326:return"Light snow";case 329:return"Patchy moderate snow";case 332:return"Moderate snow";case 335:return"Patchy heavy snow";case 338:return"Heavy snow";case 350:return"Ice pellets";case 353:return"Light rain shower";case 356:return"Moderate or heavy rain shower";case 359:return"Torrential rain shower";case 362:return"Light sleet showers";case 365:return"Moderate or heavy sleet showers";case 368:return"Light snow showers";case 371:return"Moderate or heavy snow showers";case 374:return"Light showers of ice pellets";case 377:return"Moderate or heavy showers of ice pellets";case 386:return"Patchy light rain in area with thunder";case 389:return"Moderate or heavy rain in area with thunder";case 392:return"Patchy light snow in area with thunder";case 395:return"Moderate or heavy snow in area with thunder";default:return""}}function c(e){e.length<4&&(e="0"+e);var r=new Date,t=parseInt(e.substr(0,2)),a=parseInt(e.substr(2));return r.setHours(t),r.setMinutes(a),+r}return{weekDayName:e,monthName:r,dateString:t,getColors:a,codeToIcon:n,codeToDesc:o,toDateMs:c}}function Weather(){function e(e,r){return r===a.F&&(e=9*e/5+32),Math.round(e)}function r(e){$.getJSON("http://ipinfo.io").success(function(r){var a=r.loc.split(","),n=a[0],o=a[1],c={q:n+","+o,num_of_days:2,fx24:!0,key:"e647ab75e8339699c1dc7e12fa0df",format:"json",showlocaltime:"yes",includelocation:"yes"},s="https://api.worldweatheronline.com/free/v2/weather.ashx?"+$.param(c);$.getJSON(s).success(function(r){for(var a=r.data.current_condition[0],n=a.weatherCode,o={icon:t.codeToIcon(n),temp:a.temp_C,description:t.codeToDesc(n),wind:{deg:a.winddirDegree,speed:Math.round(.277777778*a.windspeedKmph)},location:r.data.nearest_area[0].areaName[0].value},c=r.data.weather[0].hourly;t.toDateMs(c[0].time)<+new Date;)c.shift();for(;c.length<5;)c.push(r.data.weather[1].hourly[0]),r.data.weather[1].hourly.shift();for(var s=[],i=0;5>i;++i){var u=c[i].time.slice(0,-2)+":"+c[i].time.slice(-2);s.push({icon:t.codeToIcon(c[i].weatherCode,c[i].time),temp:c[i].tempC,description:t.codeToDesc(c[i].weatherCode),wind:{deg:c[i].winddirDegree,speed:Math.round(.277777778*c[i].windspeedKmph)},time:u})}var d={current:o,hourList:s};e(d)})})}var t=Fn(),a={C:"C",F:"F",K:"K"},n=a.C;return{FORMAT:a,format:n,convertTemp:e,getWeather:r}}$(window).load(function(){$(".loader-background").fadeOut(500)}),$(document).ready(function(){function e(){function e(e){var r=-Math.PI/6*(4+e),a=(r-u)/i,n=setInterval(function(){var o=u+a*d++;$("#div-time"+e).css("right",Math.round(Math.cos(o)*t/2+c)+"px"),$("#div-time"+e).css("top",Math.round(Math.sin(o)*t/2+c)+"px"),r>=o&&clearInterval(n)},s/i)}function r(){var e=-6,r=0,t=(r-e)/i*4,a=$("#btn-cf-toggle"),n=0,o=setInterval(function(){++n,e+=t,a.css("right",e+"em"),e>=r&&clearInterval(o)},s/i)}var t=$(".main-circle").width(),a=parseInt($(".div-time").css("borderWidth")),n=parseInt($(".div-time").css("padding")),o=$(".div-time").width()+2*(a+n),c=(t-o)/2,s=2400,i=200,u=-Math.PI/6;r();for(var d=0;5>d;++d)e(d)}function r(e,r){if(void 0===r)return void e.hide();e.show();var t="rotate("+r+"deg)";e.css({"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,"-o-transform":t,transform:t})}function t(e){e=e.replace(/0[34]/,"02"),e=e.replace(/1[01]/,"09"),e=e.replace("13n","13d"),e=e.replace("50n","50d");var r=$(".bgImgContainer"),t=$(".content-circle"),a="url(pics/"+e+".jpg)";r.css("background-image",a);var n="0 -"+t.offset().top+"px";t.css("background-position",n),t.css("background-image",a);var o=l.getColors(e);$("button").css("background-color",o.btnBgColor),$(".div-time").css("background-color",o.btnBgColor),$(".outer-circle").css("background-color",o.outerCircleColor),$(".outer-circle").css("border-color",o.outerCircleBorder),$(".content-circle").css("border-color",o.outerCircleBorder),$(".inner-circle1").css("background-color",o.innerCircleColor),$(".inner-circle2").css("background-color",o.innerCircleColor)}function a(e){$("header .datetime").text(l.dateString(0,!0)),$("header .location").text(e.location)}function n(e){var t="#"+e.icon;$(".main-icon use").attr("xlink:href",t);var a=d.convertTemp(e.temp,d.format)+("&deg;"+d.format);$(".main-temperature").html(a),$(".main-description").text(e.description),r($(".main-wind-arrow"),e.wind.deg);var n=e.wind.speed+" m/s";$(".main-wind-description").text(n)}function o(e){h.current=e.temp,t(e.icon),a(e),n(e)}function c(e){for(var r in e){var t="#div-time"+r,a="#"+e[r].icon;$(t+" .hour-icon use").attr("xlink:href",a);t+=" .hour-content",$(t+" .hour-time").text(e[r].time);var n=d.convertTemp(e[r].temp,d.format)+("&deg;"+d.format+" ");$(t+" .hour-temp").html(n)}}function s(r){h.hourList=r.map(function(e){return e.temp}),c(r),e()}function i(e){o(e.current),s(e.hourList)}function u(){d.format=d.format===d.FORMAT.C?d.FORMAT.F:d.FORMAT.C;var e=d.convertTemp(h.current,d.format)+("&deg;"+d.format);$(".main-temperature").html(e);for(var r=0;5>r;++r){var t=d.convertTemp(h.hourList[r],d.format)+("&deg;"+d.format),a="#div-time"+r+" .hour-content .hour-temp";$(a).html(t)}}var d=Weather(),l=Fn(),h={current:0,hourList:[]};$("#btn-cf-toggle").on("click",u),d.getWeather(i)});